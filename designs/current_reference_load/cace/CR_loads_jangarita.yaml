#--------------------------------------------------------------
# CACE circuit characterization file
#--------------------------------------------------------------

name:           CR_loads_jangarita
description:    Current reference generator loads TB for OnChip's Chipathon project
PDK:            sky130A

cace_format:    5.2

authorship:
  designer:         Jorge Angarita-Pérez
  company:          OnChip UIS
  creation_date:    May 10, 2025
  license:          Apache 2.0

paths:
  root:             ..
  schematic:        xschem
  layout:           gds
  netlist:          netlist
  documentation:    docs

pins:
  VDD:
    description: Positive analog power supply
    type: power
    direction: inout
    Vmin: 1.7
    Vmax: 1.9
  VSS:
    description: Analog ground
    type: ground
    direction: inout
  Iref1n:
    description: Current reference NMOS of 1uA
    type: signal
    direction: input
  Iref10n:
    description: Current reference NMOS of 10uA
    type: signal
    direction: input
  Iref1p:
    description: Current reference PMOS of 1uA
    type: signal
    direction: input
  Iref10p:
    description: Current reference PMOS of 10uA
    type: signal
    direction: input

default_conditions:
  VDD:
    description: Analog power supply voltage
    display: VDD
    unit: V
    typical: 1.8
  corner:
    description: Process corner
    display: Corner
    typical: tt
  temperature:
    description: Ambient temperature
    display: Temp
    unit: °C
    typical: 27

parameters:
  op_parameters:
    display: OP parameters
    spec:
      VIref10n:
        display: V10N
        description: Voltage at 10uA P-type load (connected to N-type output)
        unit: V
        minimum:
          value: any
        typical:
          value: any
        maximum:
          value: any
      
      VIref1n:
        display: V1N
        description: Voltage at 1uA P-type load (connected to N-type output)
        unit: V
        minimum:
          value: any
        typical:
          value: any
        maximum:
          value: any
      
      VIref10p:
        display: V10P
        description: Voltage at 10uA N-type load (connected to P-type output)
        unit: V
        minimum:
          value: any
        typical:
          value: any
        maximum:
          value: any
      
      VIref1p:
        display: V1P
        description: Voltage at 1uA N-type load (connected to P-type output)
        unit: V
        minimum:
          value: any
        typical:
          value: any
        maximum:
          value: any

    tool:
      ngspice:
        template: CR_loads_jangarita.sch
        format: ascii
        suffix: .data
        variables: [VIref10n, VIref1n, VIref10p, VIref1p]
    
    conditions:
      corner:
        enumerate: [ss, tt, ff]
      vdd:
        minimum: 1.7
        typical: 1.8
        maximum: 1.9
      temperature:
        minimum: -40
        typical: 27
        maximum: 130